Aunque se dice que hay comunicaciones asíncronas, se tienen comunicaciones síncronas de forma que hay un reloj de un punto a donde se tiene una línea de reloj, ambos protocolos son maestro esclavo de forma que hay un equipouqe transmite yotroque recibe la información, pero el protocolo I2C o ahora em el futuro TWI, de forma que se tiene un tipo de comunicación half-duplex, de forma que es para distancias menores de lo que se usa la USART, estos son para distancias cortas (I2C y SPI) de forma que es la forma de comunicarse con sensores, así que se tienen estos ambientes, en este protocolo I2C se tienen sólo 2 líneas de comunicación, una llamada SDA para los datos y la otra SCL para el reloj, el reloj en ambos tipos sólo lo envía el maestro, para la línea de datos en I2C la usan las 2 tanto maestro como esclavo.
La I2C en terminos de velocidad es; Usart, I2C, SPI, por lo que el I2C es un intermedio, en el caso de la USART son 2 líneas de forma síncrona pero el SPI necesita 2 líneas para recibir y enviar datos, el reloj (van 3) y otra si se comunica con un dispositivo llamado Chip Select (CS), por lo que para cada dispositivo necesita un chip, es como controlar el enable de cada dispositivo, cada que se necesita se añade una línea digamos privada para cada periférico, diferente al I2C, pero permite más velocidad porque el hecho que en I2C y se comunica con un límite máximo de periféricos pues hace con que el protocolo hace que la comunicación hay un momento donde se envía la dirección del periferico a enviar, cuando ve que se solicito el buscado pues se activa y le llega la información,m eso toam tiempo y el I2C es más lento. Ahora, el SPI pues no necesita direcciones, habilita el chip select que requiere y va más rápido.

Del I2C maneja 2 versiones, de forma que va de 112 a 1136 dispositivos. Ambos tipos de comunicaciones son suceptibles a interferencias eléctricas, tal que por eso es para distancias cortas. Acá en el diagrama de START,REPEATED,START and STOP conditions, de forma que acá es por flancos lo que se hace para la línea de START como un flanco de bajada, el maestro genera el flnaco de bajada y empieza a generar el reloj, un tiempito después de que los periféricos sientan ese flanco de bahada para que ellos respondan, mientras esos flancos de reloj se producen se envían los datos, pero el flanco de subida para parar es cuando el reloj está en 1, ahí indica que la comunicación temrina, pero hay una opción en el protocolo, de forma que no pare comunicación y pueda enviar otro dato que es algo llamado START-REPETIDO, que hace un start dos veces y con ello no necesita enviar direcciones y así al final pues manda el de stop.
La trama primero da el ST, luego la dirección del periférico a comunicarse y acá los periféricos deben conocer la respuesta (un ACK-noledge) por lo que el master espera que le responda con el ACK que cree es un bit 0. Si el maestro no recibe esto entonces recibe la conexión y si no para la comunicación, si no lo recibe entonces envía el dato para el periférico de forma que siempre que reciba el dato o preguntando si est´, un ST repetido si quiere seguir hablando o si quiere parar.

La estructura de la conexión SPI a diferencia del I2C es que tiene la cantidad de dispositivos según el protocolo, donde 112 era antes porque eran 7 bits, de forma que luego pues crecío. Pero acá en SPI la cantidad establecida es la cantidad de pines, hasta ahí llega. En este caso es importante tener en ucenta que en el protocolo SPI hay 4 variantes según la señal de reloj. Si es comunicación síncrona se envía del origen al destino y se pueden definir que es en el flanco de subida o bajada del reloj, el otro es la fase (si se empieza con 0 o 1), de forma que se generan 4 combinaciones, escogemos una según requiramos.

ACá por ejemplo en SPI MODOS está la señal de reloj, si trabaja con flanco de subida el reloj mantiene en 0 y al reves en 1 para bajar a 0, en el momento del flanco con any polaridad se tienen los pulsos que se hace el muestreo para leer el otoro dato (tiene que ver con el flanco, muy corto) donde mira la señal de datos, si esta recibiendo o enviando sostiene un tiempo antes o despues, ahora es como en el LCD, todo tiene que estar puesto antes, generar el flanco de EN y un tiempito después, cuando trabajamos por flanco se tiene un tiempo antes y después para el flanco. Entonces se tiene que cada flanco muestrea o mira el bit, recordemos el reloj lo genera el maestro de forma que sabe, la línea MOSI master output slave input es por donde se le envía al esclavo, y la MISO por donde el esclavo envía datos al maestro. Acá el chip select es negado, esa simplicidad le da su facilidad o complicaciones para escogerel dispositivo.


Entonces la idea es que empecemos a trabajar con el I2C y el SPI para generar la comunicación, en este caso como no tenemos sensores ni actuadores, de forma que debemos comunicarnos entre dos arduínos.
